(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports={"buttons-box":"editBar_buttons-box__3Vr3S","submit-button":"editBar_submit-button__zdVqS","cancel-img-box":"editBar_cancel-img-box__3awsX","cancel-img":"editBar_cancel-img__1DboV","remove-img-box":"editBar_remove-img-box__1iQYa","remove-img":"editBar_remove-img__3sQSq",tooltip:"editBar_tooltip__13_ZR"}},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(55),i=n.n(r),o=n(5),l=n(6),u=n(9),s=n(7),d=n(10),m=n(58),v=n(11),f=n(3),b=n(2),h=n(8),p=n(23),g=n.n(p),_=n(24),C=n.n(_),k=n(4),E=n.n(k);function O(e){var t=e.editType,n=e.value,a=e.onChange,r=e.placeholder,i=e.isIncorrect,o=e.height,l=e.handleKeyDown,u=C()(E.a.card,E.a.card_mode_edit,Object(f.a)({},E.a.card_incorrect,i));return"input"===t?c.a.createElement("input",{ref:function(e){e&&e.focus()},className:u,placeholder:r,onChange:a,onKeyDown:l,value:n}):c.a.createElement("textarea",{ref:function(e){e&&e.focus()},className:u,style:{height:"".concat(o,"px")},placeholder:r,onChange:a,onKeyDown:l,value:n})}var j=n(12),T=n.n(j);function D(e){var t=e.submitTitle,n=e.onClickCancel,a=e.onClickRemove,r=e.onClickSubmit,i=e.cancelTooltip;return c.a.createElement("div",null,c.a.createElement("a",{className:T.a["cancel-img-box"],onClick:n},c.a.createElement("div",{className:T.a["cancel-img"]},c.a.createElement("div",{className:T.a.tooltip},i))),c.a.createElement("div",{className:T.a["buttons-box"]},c.a.createElement("button",{className:T.a["submit-button"],onClick:r},t),a?c.a.createElement("a",{className:T.a["remove-img-box"],onClick:a},c.a.createElement("div",{className:T.a["remove-img"]})):null))}var S=n(34),y=n.n(S),B=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).changeValue=function(e){var t=e.target;n.setState({value:t.value,height:t.scrollHeight})},n.handleSubmitClick=function(){var e=n.state,t=e.height,a=e.value,c=n.props,r=c.setHeight,i=c.onClickSubmit;""===a?(n.setState({isIncorrectValue:!0}),setTimeout(function(){n.setState({isIncorrectValue:!1})},0)):(r&&r(t),i(a))},n.handleKeyDown=function(e){switch(e.key){case"Delete":n.props.onClickRemove();break;case"Escape":n.props.onClickCancel();break;case"Enter":if(e.shiftKey)return;n.handleSubmitClick()}};var a=e.value,c=e.height;return n.state={value:a||t.DEFAULT_VALUE,height:c||t.MIN_HEIGHT,isIncorrectValue:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,n=e.value,a=e.isIncorrectValue,r=e.height,i=this.props,o=i.editType,l=i.submitTitle,u=i.onClickCancel,s=i.onClickRemove,d=i.cancelTooltip,m=i.placeholder;return c.a.createElement("div",{className:y.a.box},c.a.createElement("div",{className:y.a.input},c.a.createElement(O,{editType:o,value:n,height:r<t.MIN_HEIGHT?t.MIN_HEIGHT:r,placeholder:m,onChange:this.changeValue,handleKeyDown:this.handleKeyDown,isIncorrect:a})),c.a.createElement(D,{submitTitle:l,onClickSubmit:this.handleSubmitClick,onClickCancel:u,onClickRemove:s,cancelTooltip:d}))}}]),t}(c.a.Component);B.DEFAULT_VALUE="",B.MIN_HEIGHT=54;var x=n(17),N=n.n(x);function I(e){var t=e.title,n=e.onClick;return c.a.createElement("div",{className:N.a.box},c.a.createElement("a",{onClick:n,className:N.a.button},c.a.createElement("div",{className:N.a.img}),c.a.createElement("div",{className:N.a.label},t)))}var w=n(57),R=n.n(w),A=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).changeButtonState=function(){n.setState(function(e){return{isEdit:!e.isEdit}})},n.handleButtonClick=function(){n.changeButtonState()},n.handleSubmitButtonClick=function(e){(0,n.props.onClickSubmit)(e),n.changeButtonState()},n.handleCancelButtonClick=function(){n.changeButtonState()},n.state={isEdit:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t}},{key:"render",value:function(){var e=this.state.isEdit,t=this.props,n=t.editType,a=t.submitTitle,r=t.title,i=t.placeholder;return e?c.a.createElement("div",{className:R.a.editBlock},c.a.createElement(B,{editType:n,submitTitle:a,cancelTooltip:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClickSubmit:this.handleSubmitButtonClick,onClickCancel:this.handleCancelButtonClick,placeholder:i})):c.a.createElement(I,{title:r,onClick:this.handleButtonClick})}}]),t}(a.Component),V=n(25),M=n.n(V),H=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).setMode=function(e){n.setState({mode:e})},n.handleSubmitButtonClick=function(e){(0,n.props.submitAction)(e),n.setMode("read")},n.handleRemoveButtonClick=function(){(0,n.props.cancelAction)()},n.handleCancelButtonClick=function(){n.setMode("read")},n.state={mode:"read"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state!==t||this.props.isDragging!==e.isDragging}},{key:"render",value:function(){var e=this,t=this.props,n=t.Child,a=t.value,r=t.placeholder,i=t.formRef,o=this.state.mode,l=null;return i&&i.ref&&(l=i.ref.getBoundingClientRect().height),"edit"===o?c.a.createElement(B,{editType:"textarea",value:a,height:l,submitTitle:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",cancelTooltip:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClickSubmit:this.handleSubmitButtonClick,onClickCancel:this.handleCancelButtonClick,onClickRemove:this.handleRemoveButtonClick,placeholder:r}):c.a.createElement("div",{onClick:function(){return e.setMode("edit")}},c.a.createElement(n,this.props))}}]),t}(a.Component);var L=M()(function(e,t){return t.value!==e.value||t.isDragging!==e.isDragging||t.isOver!==e.isOver})(function(e){var t=e.value;return e.isDragging?c.a.createElement("div",{className:C()(E.a.card,E.a.card_mode_shadow)},t):c.a.createElement("div",{className:E.a.card},t)});var U=Object(h.DragSource)("CARD",{beginDrag:function(e){return{id:e.id,col:{id:e.colId},value:e.value}},isDragging:function(e,t){return e.id===t.getItem().id}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(function(e){var t=e.connectDragSource,n=e.connectDragPreview,a=Object(v.a)(e,["connectDragSource","connectDragPreview"]);return n(Object(p.getEmptyImage)()),t(c.a.createElement("div",null,c.a.createElement(L,a)))});var K=Object(h.DropTarget)("CARD",{hover:function(e,t){var n=e.id,a=e.colId,c=e.formRef,r=e.moveCard,i=c.ref.getBoundingClientRect(),o=i.height,l=i.top,u=t.getItem(),s=u.id,d=u.col.id;s!==n&&(r(a,n,d,s,o/2,t.getClientOffset().y-l)&&(u.col.id=a))}},function(e){return{connectDropTarget:e.dropTarget()}})(function(e){var t=e.connectDropTarget,n=Object(v.a)(e,["connectDropTarget"]);return t(c.a.createElement("div",null,c.a.createElement(H,Object.assign({Child:U},n))))});function P(e){var t={ref:null};return c.a.createElement("div",{ref:function(e){e&&(t.ref=e)}},c.a.createElement(K,Object.assign({formRef:t},e)))}var G=n(15),z=n.n(G);var F=M()(function(e,t){return t.title!==e.title||t.children!==e.children})(function(e){var t=e.id,n=e.title,a=e.removeColumn,r=e.editColumnTitle,i=e.addCard,o=e.removeCard,l=e.editCard,u=e.moveCard,s=e.children;return c.a.createElement("div",{className:z.a.box},c.a.createElement("div",{className:z.a.content},c.a.createElement(H,{Child:function(){return c.a.createElement("div",{className:z.a.title},n)},value:n,cancelAction:a,submitAction:r,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438"}),c.a.createElement("div",{className:z.a["item-list"]},s.map(function(e){return c.a.createElement("div",{key:e.id,className:z.a.item},c.a.createElement(P,{id:e.id,value:e.value,colId:t,moveCard:u,cancelAction:o(e.id),submitAction:l(e.id),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}))}))),c.a.createElement("div",{className:z.a["action-form"]},c.a.createElement(A,{editType:"textarea",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",submitTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",onClickSubmit:i,colId:t})))});var X=Object(h.DropTarget)("CARD",{hover:function(e,t){var n=e.id,a=e.children,c=e.moveCard;if(!(a.length>0)){var r=t.getItem(),i=r.id;c(n,-1,r.col.id,i)&&(r.col.id=n)}}},function(e){return{connectDropTarget:e.dropTarget()}})(function(e){var t=e.connectDropTarget,n=Object(v.a)(e,["connectDropTarget"]);return t(c.a.createElement("div",null,c.a.createElement(F,n)))});function Z(e){var t=e.currentOffset;if(!t)return{display:"none"};var n=t.x,a=t.y,c="translate(".concat(n,"px, ").concat(a,"px) rotate(5deg)");return{transform:c,WebkitTransform:c}}var q=Object(h.DragLayer)(function(e){return{item:e.getItem(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})(function(e){var t=e.item;return e.isDragging?c.a.createElement("div",{className:E.a.card_mode_preview},c.a.createElement("div",{style:Z(e),className:E.a.card},t.value)):null}),Q={columns:{0:{title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u043c\u0435\u0441\u044f\u0446",cards:[{id:0,value:"\u041f\u0440\u043e\u0439\u0442\u0438 \u043a\u0443\u0440\u0441 \u043f\u043e React"},{id:1,value:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},{id:2,value:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0443\u0440\u0441\u044b \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u0443\u0435\u0445\u0430\u0442\u044c \u0436\u0438\u0442\u044c \u0432 \u041b\u043e\u043d\u0434\u043e\u043d"},{id:3,value:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0431\u0435\u043a\u0435\u043d\u0434 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430 node.js"}]},1:{title:"\u041f\u043b\u0430\u043d\u044b \u043d\u0430 \u0434\u0435\u043d\u044c",cards:[{id:4,value:"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"},{id:5,value:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0432 \u043c\u043e\u0442\u043e\u0448\u043a\u043e\u043b\u0443. \u0425\u043e\u0442\u044f \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u0430\u0448\u043d\u043e\u0432\u0430\u0442\u043e, \u043a\u043e\u043d\u0435\u0447\u043d\u043e. \u0414\u0440\u0443\u0437\u044c\u044f \u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u043e\u0442\u0438\u0432, \u043d\u043e \u043e\u0447\u0435\u043d\u044c \u0445\u043e\u0447\u0435\u0442\u0441\u044f. \u041d\u043e \u043a\u043e\u0433\u043e \u044f \u043e\u0431\u043c\u0430\u043d\u044b\u0432\u0430\u044e, \u0443\u0436\u0435 2 \u0433\u043e\u0434\u0430 \u0440\u0435\u0448\u0430\u044e\u0441\u044c \u043d\u0430 \u044d\u0442\u043e\u0442 \u0448\u0430\u0433 \ud83d\ude22 \u0415\u0449\u0435 \u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0431\u0443\u0434\u0443\u0442 \u0445\u0440\u0443\u0441\u0442\u0438\u043a\u043e\u043c \u043d\u0430\u0437\u044b\u0432\u0430\u0442\u044c. \u0412 \u043e\u0431\u0449\u0435\u043c, \u0445\u043e\u0442\u044f \u0431\u044b \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u043d\u0430\u0434 \u044d\u0442\u0438\u043c."},{id:6,value:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0438\u0440 \u043d\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0443"},{id:7,value:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"},{id:8,value:"\u0423\u0439\u0442\u0438 \u0432 \u043e\u0442\u043f\u0443\u0441\u043a"},{id:9,value:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0441 \u043e\u0442\u043f\u0443\u0441\u043a\u0430"}]}}},W=n(26),Y=n.n(W);function J(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var $=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).columnId=3,n.cardId=10,n.handleAddColumnButtonClick=function(e){n.setState(function(t){var a={title:e,cards:[]};return{columns:Object(b.a)({},t.columns,Object(f.a)({},n.columnId++,a))}})},n.removeColumn=function(e){return function(){n.setState(function(t){var n=t.columns;n[e];return{columns:Object(v.a)(n,[e].map(J))}})}},n.editColumnTitle=function(e){return function(t){n.setState(function(n){var a=Object(b.a)({},n.columns[e],{title:t});return{columns:Object(b.a)({},n.columns,Object(f.a)({},e,a))}})}},n.addCard=function(e){return function(t){n.setState(function(a){var c=n.cardId++,r=[].concat(Object(m.a)(a.columns[e].cards),[{id:c,value:t}]),i=Object(b.a)({},a.columns[e],{cards:r});return{columns:Object(b.a)({},a.columns,Object(f.a)({},e,i))}})}},n.removeCard=function(e){return function(t){return function(){n.setState(function(n){var a=n.columns[e].cards.filter(function(e){return t!==e.id}),c=Object(b.a)({},n.columns[e],{cards:a});return{columns:Object(b.a)({},n.columns,Object(f.a)({},e,c))}})}}},n.editCard=function(e){return function(t){return function(a){n.setState(function(n){var c=n.columns[e].cards.map(function(e){return e.id===t?Object(b.a)({},e,{value:a}):e}),r=Object(b.a)({},n.columns[e],{cards:c});return{columns:Object(b.a)({},n.columns,Object(f.a)({},e,r))}})}}},n.moveCard=function(e,t,a,c,r,i){var o=n.state.columns[a].cards.findIndex(function(e){return e.id===c}),l=n.state.columns[e].cards.findIndex(function(e){return e.id===t});if(e===a){if(o<l&&i<r)return!1;if(o>l&&i>r)return!1;n.setState(function(n){for(var a=n.columns[e].cards,r=[],i=0;i<a.length;i++)a[i].id!==c&&(a[i].id===t?i<o?(r.push(a[o]),r.push(a[i])):(r.push(a[i]),r.push(a[o])):r.push(a[i]));r.length!==a.length&&r.push(a[o]);var l=Object(b.a)({},n.columns[e],{cards:r});return{columns:Object(b.a)({},n.columns,Object(f.a)({},e,l))}})}else n.setState(function(n){for(var l,u=n.columns[a].cards[o],s=n.columns[a].cards.filter(function(e){return e.id!==c}),d=n.columns[e].cards,m=[],v=0;v<d.length;v++)d[v].id===t?i<r?(m.push(u),m.push(d[v])):(m.push(d[v]),m.push(u)):m.push(d[v]);m.length===d.length&&m.push(u);var h=Object(b.a)({},n.columns[e],{cards:m}),p=Object(b.a)({},n.columns[a],{cards:s});return{columns:Object(b.a)({},n.columns,(l={},Object(f.a)(l,e,h),Object(f.a)(l,a,p),l))}});return!0},n.state=Q,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.columns,n=Object.keys(t).map(function(n){return c.a.createElement("div",{key:n,className:Y.a.column},c.a.createElement(X,{id:n,title:t[n].title,addCard:e.addCard(n),removeCard:e.removeCard(n),editCard:e.editCard(n),moveCard:e.moveCard,removeColumn:e.removeColumn(n),editColumnTitle:e.editColumnTitle(n)},t[n].cards))});return c.a.createElement("div",{className:Y.a.board},n,c.a.createElement("div",{className:Y.a.column},c.a.createElement(A,{editType:"input",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443",submitTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438",cancelTooltip:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClickSubmit:this.handleAddColumnButtonClick})),c.a.createElement(q,null))}}]),t}(a.Component),ee=Object(h.DragDropContext)(g.a)($),te=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(ee,null)}}]),t}(a.Component);n(122),n(123);i.a.render(c.a.createElement(te,null),document.getElementById("root"))},15:function(e,t,n){e.exports={box:"column_box__2EOsL",content:"column_content__2EpF5",title:"column_title__1uWkt","item-list":"column_item-list__3lEsc",item:"column_item__tDfte","action-form":"column_action-form__3MzyY"}},17:function(e,t,n){e.exports={box:"actionBlock_box__3Vfvu",img:"actionBlock_img__7_DMX",button:"actionBlock_button__2eU1k",label:"actionBlock_label__2ZMzk"}},26:function(e,t,n){e.exports={board:"kanbanBoard_board__3IbBI",column:"kanbanBoard_column__2YoDZ"}},34:function(e,t,n){e.exports={box:"editBlock_box__2TrRu",input:"editBlock_input__3NdVN"}},4:function(e,t,n){e.exports={card:"card_card__QUnw-",card_mode_edit:"card_card_mode_edit__GXbLa",card_mode_shadow:"card_card_mode_shadow__LtGpZ",card_mode_preview:"card_card_mode_preview__lzXtW",card_incorrect:"card_card_incorrect__1PTob"}},57:function(e,t,n){e.exports={editBlock:"actionForm_editBlock__38LqI"}},59:function(e,t,n){e.exports=n(124)}},[[59,1,2]]]);
//# sourceMappingURL=main.a513b2e6.chunk.js.map